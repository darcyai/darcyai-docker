parameters:
  - name: imageName
    type: string
  - name: imageTag
    type: string
  - name: dockerFile
    type: string

steps:
  - task: Docker@2
    displayName: Build and push base image
    inputs:
      repository: ${{ parameters.imageName }}
      # command: buildAndPush
      command: build
      Dockerfile: ${{ parameters.dockerFile }}
      tags: |
        latest
        ${{ parameters.imageTag }}